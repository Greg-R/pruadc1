%    Documentation for PRU ADC Project
%    Copyright (C) 2016  Gregory Raven
%
%    This program is free software: you can redistribute it and/or modify
%    it under the terms of the GNU General Public License as published by
%    the Free Software Foundation, either version 3 of the License, or
%    (at your option) any later version.
%
%    This program is distributed in the hope that it will be useful,
%    but WITHOUT ANY WARRANTY; without even the implied warranty of
%    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%    GNU General Public License for more details.
%
%    You should have received a copy of the GNU General Public License
%    along with this program.  If not, see <http://www.gnu.org/licenses/>.

\chapter{Universal IO and Connecting PRU to the Outside World}

This project did not require a custom ``Device Tree Overlay''.  Instead, the ``Universal IO'' driver was used along with a simple shell script.

The Universal IO project is located at this Github repository:

\url{https://github.com/cdsteinkuehler/beaglebone-universal-io}

The configuration is as follows:

\begin{verbatim}
config-pin P8.30 pruout
config-pin P9.31 pruout
config-pin P9.27 pruout
config-pin P9.29 pruout
config-pin P9.28 pruin
config-pin P9.30 pruout
\end{verbatim}

The above can also be put into a file, for example ``pru-config'':

\begin{verbatim}
P8.30 pruout
P9.31 pruout
P9.27 pruout
P9.29 pruout
P9.28 pruin
P9.30 pruout
\end{verbatim}

The command to load the above would be:

config-pin -f pru-config

Note that another step required is create the \$SLOTS environment variable
and also to set on of the Universal-IO device trees as follows:

\begin{verbatim}
export SLOTS=/sys/devices/platform/bone_capemgr
echo univ-emmc > $SLOTS/slots 
\end{verbatim}


\subsection{The PRU GPIO Spreadsheet}

Use ``git clone'' to download this repository:

\url{https://github.com/selsinork/beaglebone-black-pinmux}

The spreadsheet file contained in this repository is pinmux.ods.
The LibreOffice suite has a spreadsheet application which will read
this file.

This spreadsheet is extremely useful when configuring the PRU or
other functions to the Beaglebone pin multiplexer.



